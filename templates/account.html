{% extends 'base.html' %}

{% block title %}Account List{% endblock %}

{% block content %}
    <h1>{{ account.name }}</h1>

    {% with messages = get_flashed_messages(with_categories=True) %}
        {% if messages %}
            <div class="mt-3">
                {% for category, message in messages %}
                    <div class="alert alert-{{ category }}">{{ message }}</div>
                {% endfor %}
            </div>
        {% endif %}
    {% endwith %}
    
    <h2>Add Region</h2>
    <form method="POST" action="{{ url_for('add_region', account_id=account.id) }}" class="d-flex">
        <select class="form-control rounded-0 me-2" name="region_name" required style="flex: 0 0 70%;">
            <option value="" disabled selected>Select a Region</option>
            {% for region in regions %}
                <option value="{{ region }}">{{ region }}</option>
            {% endfor %}
        </select>
        <button type="submit" class="btn btn-primary rounded-0" style="flex: 0 0 30%;">Add Region</button>
    </form>
    
    <h2>Regions</h2>
    <ul class="list-group rounded-0">
        {% for region in account.regions %}
            <li class="list-group-item">
                <a href="{{ url_for('region_detail', account_id=account.id, region_id=region.id) }}">{{ region.name }}</a>
            </li>
        {% endfor %}
    </ul>
    <a href="{{ url_for('index') }}" class="btn btn-primary rounded-0 mt-3">Back to Home</a>
{% endblock %}
