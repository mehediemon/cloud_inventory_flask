{% extends 'base.html' %}

{% block title %}Account List{% endblock %}

{% block content %}

<h2>Add Account</h2>
<form action="{{ url_for('add_account') }}" method="POST" class="mt-3 d-flex">
    <div class="d-flex align-items-center">
        <div class="form-group mb-0 me-3">
            <input type="text" class="form-control rounded-0" name="name" placeholder="Account Name" required>
        </div>
        <div class="form-group mb-0 me-3">
            <input type="text" class="form-control rounded-0" name="account_id" placeholder="Account ID" required>
        </div>
        <div class="form-group mb-0 me-3">
            <select class="form-control rounded-0" name="provider_name" required>
                <option value="">Select Provider</option>
                {% for provider in providers %}
                    <option value="{{ provider }}">{{ provider }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="form-group mb-0 me-3">
            <input type="email" class="form-control rounded-0" name="email" placeholder="Email" required>
        </div>
        <button type="submit" class="btn btn-primary rounded-0">Add Account</button>
    </div>
</form>


<h2>Account List</h2>

<div class="account-list rounded-0">
    {% for account in accounts %}
    <div class="account-item">

        <a href="{{ url_for('account_detail', account_id=account.id) }}">{{ account.name }} - {{ account.account_id }}</a>
        <a href="{{ url_for('account_detail', account_id=account.id) }}">{{ account.provider_name }}</a>
        <a href="{{ url_for('download', account_id=account.id) }}" class="btn btn-success btn-sm rounded-0">Download</a>
    </div>
    {% endfor %}
    {% if accounts|length == 0 %}
    <div class="account-item">
        <span>No accounts available.</span>
    </div>
    {% endif %}
</div>

{% endblock %}